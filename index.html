<script>
document.addEventListener("DOMContentLoaded", () => {

    const checkboxes = document.querySelectorAll(".risk-checkbox");
    const noneCheckbox = document.getElementById("none");
    const resultBox = document.getElementById("result");

    function updateResult() {
        let anyRisk = false;

        checkboxes.forEach(cb => {
            if (cb !== noneCheckbox && cb.checked) {
                anyRisk = true;
            }
        });

        if (anyRisk) {
            resultBox.innerHTML = `<span class="highlight">Based on your answers, PresSure may be a strong fit for you.</span>`;
        } else if (noneCheckbox.checked) {
            resultBox.innerHTML = `PresSure may not be necessary for you at this time.`;
        } else {
            resultBox.innerHTML = ``;
        }
    }

    // When selecting any regular option
    checkboxes.forEach(cb => {
        if (cb !== noneCheckbox) {
            cb.addEventListener("change", () => {
                if (cb.checked) {
                    noneCheckbox.checked = false;
                    noneCheckbox.disabled = false;

                    // Re-enable all other checkboxes
                    checkboxes.forEach(x => {
                        if (x !== noneCheckbox) x.disabled = false;
                    });
                }
                updateResult();
            });
        }
    });

    // When selecting "None of the above"
    noneCheckbox.addEventListener("change", () => {
        if (noneCheckbox.checked) {
            // Uncheck all others
            checkboxes.forEach(cb => {
                if (cb !== noneCheckbox) {
                    cb.checked = false;
                    cb.disabled = true;
                }
            });
        } else {
            // Re-enable all options if user unchecks "None"
            checkboxes.forEach(cb => {
                cb.disabled = false;
            });
        }
        updateResult();
    });

});
</script>
